This is the Aquila Changelog.

0.1.9:
	Fixed illegal memory reference in input handling.
	Fixed possible crash when disconnecting user.
	Improved pi_hublist error handling.
	Fixed and moved escape_string from nmdc_utils.c to pi_hublist.c
	Added pi_hublist.c Hublist registering
	Fixed copyright message in headers
	Fixed FD restrictions on cygwin
	Fixed bug in ruleadd
	adjusted rbt.c header.
	Added load and save functionality in pi_lua.c
	Added *all* events in the event handler support.
	Rewrote all original lua commands. Removed zexx86 (c) message.
	Changed file headers to GPL suggested header.
	Fixed bug with !ruleadd
	removed assert, allowing kicking of self.
	fixed bug in help. Can no longer see any commands that aren't available.
	added LUA support... reasonably tested!
		- can't assign rights for commands yet
	added unzombie command	
	added protocol proto_send_direct (which was old proto_send)
	rights parsing now obeys last setting for a right. 
		 -cap cap = cap
		cap -cap  = -cap
	user with correct passwd can replace ghost even when using a different IP
	check third nick in PMs too. Security.
	fixed bugs in pm source verification.
	Force \0 termination of all strncpy's.
	Fixed bug in aqpasswd (thanks BSOD2600 for reporting)
	Ported to work on cygwin, thank you to BSOD2600 for testing.
		included code from Motoyuki Kasahara, see README.getaddrinfo
	IP right-click on ban: Curse and Cyber_Ninja ( IP is now clickable after a kick or ban )
	fix no autojoin in chatroom module

0.1.8:
	CAP_SPAM now also excempts from chat rates. This allows for !kicks to be gives in large groups.
	Moved !crash command to DEBUG build only.
	Start a user with full search quota to prevent autosearches from triggering warnings.
	Decrease the right counter in hub.c
	Fixed "buffering" counter.

	Fixed crash. Active users can now receive passive search results.
	Added DEBUG warning in !statcpu command.
	Added check for online status before sending search result to user.
	Added more cache flush debugging info.
	Fixed bug in hub.c buffer size accounting.
	Fixed message when disabling reporting.
	Added crash handler (stacktracing).
	Added password length parameter. Default is now 8 iso 64.
	Added both incoming and outgoing results counters. 
	Add warnings for overstepping various boundaries + warnings rate counter.
	Fixed a few bugs in pi_statistics.c
	Changed output queueing mechanism.
	Added buffering user counter.
	Changed some pi_statistics.c functions to using output iso local buffer.
	Added !crash function.

	Fix CAP_TAG: do not drop user and do not leak memory.
	Fixed double free in zline()
	Added some checking in stringlist
	Fixed illegal ref in pi_trigger.c
	Reduced hub to processing 1024 events at a time
	Fix free bug in cache rebuilding.
	Don't queue OpList with a source user to prevent purging.
	Don't purge cache.results and cache.messages on user exit. no longer useful.
	Force cache rebuild on first zpipe/zline user.
	Purge searches still cached if a new one is queued.
	No longer queue messages in global list, just count them.
	Fix bugs in exception buffer creation. Keep exception counters consistent.
	Delete protocol specific data in freelist with other memory.
	Make the cache_* functions use bf_size iso bf_used.
	Change timeout behaviour of queueing to be consistent.

	Fixed bug in passive search handling.
	Added ZPipe handling
	Moved to userbased stringstorage iso global list.
	Verify RCTM source nick.
	Added repeated search handling.
		Aquila caches a configurable number of searches. If those
		searches are repeated too soon, those are dropped. If they
		are repeated within a configurable period, only users that
		joined in this period are searched.
	Fixed MyINFO update share checking.
	Added iplog module
	Fix time out issues. Dead connections should now be timed out correctly. 
	Disable Naggle on user connections: we do our own queueing. TEST
	Fixed bug in pi_trigger.c: text rules are now correctly printed.
	Fix some stuff in aqdtinstall
	Owner right is now printed.
	Fixed userlist problem. There should no longer be "invisible users".
	You can no longer redirect users higher than you.
	Added say command again.
	Added many rights fixes:
		- the owner right now overrides all restrictions.
		- user with the user right can no longer delete accounts 
                   of users with more rights.
	Added sharemin formatting. Not ideal, but it should work.

0.1.7:
	Fixed security issue. No longer possible to use !usergroup to jump
	to owner group.

0.1.6:
	Enabled drop command. It was implemented, but registered.
	Fixed a few bugs in the poll() implementation. It should now
	work.

0.1.5:
	Fix in !configset. setting string variables no longer causes
	crash

0.1.4:
	Added target dtinstall
	Added message when user is refused because of join limit.
	aqdtinstall updated.
		- added command line arguments
		- added generic daemontools install
	All server_ functions can now be safely called with a NULL for
		client_t *.
	Fixed a few mistakes in nmdc_protocol.c that could cause a crash
		when getting an EPIPE.
	Added some warning to pi_user.c when settings userlimits.
	Added support for poll() in configure
	Added support for poll() in esocket
	Fixed some changelog mistakes.

0.1.3:
	Added !pwgen. This will generate a 63 byte random passwd for yourself
		or a user.
	Changed !useradd. If user with relevant nick logged in, he is warned
		of his new reg and told to set a passwd and log in again. 
		OP is notified of this.
	Slot rule fix. If a hub allows 0 slots, do not check users with 0 slots.
	Added drop command. Identical to kick except it does not redirect.
	Added aqdtinstall script. Daemontools install script.
	Fixed crash in !ruleadd when no help message (Thank you Friz.cZ)
	Added fix for possible crash with corrupt search result.                                                          
	Expanded server_add_port to add support for addresses.
	Added Fix to hashlist to protect against overlong nicklengths
	Added NMDC.ListenAddress to configure listen IP

0.1.2:
	Fix a few bugs in rebuild_myinfo that could crash the hub.
	Fix a off-by-one read in unescape_string
	Fix a few signed errors. 
	Fix crash when a EPIPE happened on a forcemove.
	Split nmdc_handle_token into multiple functions.
	Fix valgrind warning by clearing hashlist struct.
	Fix illegal pointer reference in nmdc_handle_input
	Fix server_settimeout... timeouts work again.
	Do not call proto.handle_input if there are no buffers.
	init hashlist before use.
	Added indent and commit target.
	Fixed hub send a lot of unnecessary |s.

0.1.1:
	Fixed bug in pm handling. no longer extra \0 chars attached.
		(Thank you FleetCommand)
	Added check for linux/eventpoll.h to see if kernel supports epoll.
	OS X support thanks to Dj_Offset (Jan Vidar Krey)
	Fixed command handler: now correctly handles commands with more than
		255 arguments.
	Fixed bf_printf and bf_vprintf to correctly update buf->e if the
		buffer overflows.

0.1:
	Released version.

0.0.1:
	Initial version
	All version with numbers in 0.0.400-0.0.500 range are older
	version where the last number is a SVN revision.
